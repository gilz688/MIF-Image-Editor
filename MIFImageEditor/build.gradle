apply plugin: 'java'

repositories {
	mavenCentral()
	flatDir {
		dirs 'libs'
	}
}

dependencies {
	compile name: 'openjfx-dialogs-1.0.2'
	testCompile name: 'mockito-all-1.10.19'
  	testCompile group: 'junit', name: 'junit', version: '4.11'

}

sourceCompatibility = 1.8

sourceSets {
  main {
    resources {
        srcDirs = ["src/main/java"]
        includes = ["**/*.fxml","**/*.css"]
    }
  }
}

apply plugin: 'eclipse'

eclipse {
    project {
        natures 'org.eclipse.jdt.core.javanature', 'org.eclipse.xtext.ui.shared.xtextNature'
        buildCommand 'org.eclipse.jdt.core.javabuilder'
        buildCommand 'org.eclipse.xtext.ui.shared.xtextBuilder'
    }

    classpath {
        containers 'at.bestsolution.efxclipse.tooling.jdt.core.JAVAFX_CONTAINER'
    }
}

apply from: 'javafx.plugin'

javafx {
    javaRuntime = '<NO RUNTIME>'
    
    appID 'MIEditor'
    appName 'MIFImageEditor'
    mainClass 'com.github.gilz688.mifeditor.MIEApplication'

    jvmArgs = ['-XX:+AggressiveOpts', '-XX:CompileThreshold=1']
    systemProperties = ['prism.disableRegionCaching':'true']
    arguments = ['-l', '--fast']
}

apply plugin: 'jacoco'
apply plugin: 'com.github.kt3k.coveralls'

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'org.kt3k.gradle.plugin:coveralls-gradle-plugin:2.0.1'
    }
}

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}